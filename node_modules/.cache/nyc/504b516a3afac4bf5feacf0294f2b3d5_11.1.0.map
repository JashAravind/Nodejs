{"version":3,"sources":["validateInputStream.js"],"names":["Converter","require","fs","businessRules","inputStream","aravind","inputstreamFilepath","CombinedResults","console","log","existsSync","getfileExtension","split","pop","converter","fromFile","filePath","err","results","i","length","validationResults","applybusinessRules","push","module","exports"],"mappings":";;AACA,IAAIA,YAAYC,QAAQ,WAAR,EAAqBD,SAArC;AACA,IAAIE,KAAKD,QAAQ,IAAR,CAAT;AACA,IAAIE,gBAAgBF,QAAQ,6BAAR,CAApB;;AAEA,IAAIG,cAAc;;AAEhBC,UAAS,iBAAUC,mBAAV,EAA+B;;AAE1C,MAAIC,kBAAiB,EAArB;;AAECC,UAAQC,GAAR,CAAY,4BAA0BH,mBAAtC;;AAGD,MAAIJ,GAAGQ,UAAH,CAAcJ,mBAAd,CAAJ,EAAuC;;AAEtCE,WAAQC,GAAR,CAAY,iBAAeH,mBAA3B;;AAED,OAAIK,mBAAmBL,oBAAoBM,KAApB,CAA0B,GAA1B,EAA+BC,GAA/B,EAAvB;;AAEA,OAAKF,qBAAqB,KAA1B,EAAgC;;AAE/BH,YAAQC,GAAR,CAAY,yBAAuBH,mBAAnC;;AAGD,QAAIQ,YAAY,IAAId,SAAJ,CAAc,EAAd,CAAhB;AACMc,cAAUC,QAAV,CAAmBC,QAAnB,EAA4B,UAASC,GAAT,EAAaC,OAAb,EAAqB;;AAEvD,UAAI,IAAIC,IAAI,CAAZ,EAAgBA,IAAGD,QAAQE,MAA3B,EAAkCD,GAAlC,EAAsC;AACrCX,cAAQC,GAAR,CAAY,wBAAZ;AACA,UAAIY,oBAAoBlB,cAAcmB,kBAAd,CAAiCJ,QAAQC,CAAR,CAAjC,CAAxB;AACAZ,sBAAgBgB,IAAhB,CAAqBF,iBAArB;AACW;;AAEDb,aAAQC,GAAR,CAAY,iCAAZ;AAEQ,KAVb;AAYG;AAEC;;AAEV,SAAOF,eAAP;AAEY;AAvCM,CAAlB;;AA4CAiB,OAAOC,OAAP,GAAiBrB,WAAjB","file":"validateInputStream.js","sourceRoot":"C:/Users/OfficePC/Desktop/NodejsAutomation/appliation","sourcesContent":["\r\nvar Converter = require('csvtojson').Converter;\r\nvar fs = require('fs');\r\nvar businessRules = require('../appliation/businessRules');\r\n\r\nvar inputStream = {\r\n\t\r\n\t aravind :function (inputstreamFilepath) {\r\n\r\nvar CombinedResults =[];\r\n\r\n\tconsole.log(\" Before If File path - \"+inputstreamFilepath)\r\n\r\n\r\nif (fs.existsSync(inputstreamFilepath)){\r\n\r\n\tconsole.log(\"File path - \"+inputstreamFilepath)\r\n\r\nvar getfileExtension = inputstreamFilepath.split('.').pop()\r\n\r\nif ( getfileExtension === 'txt'){\r\n\r\n\tconsole.log(\"File path with txt- \"+inputstreamFilepath)\r\n\r\n\r\nvar converter = new Converter({});\r\n\t\t\t\t\t\tconverter.fromFile(filePath,function(err,results){\r\n\r\nfor(var i = 0 ; i< results.length;i++){\r\n\tconsole.log(\"calling business rules\");\r\n\tvar validationResults = businessRules.applybusinessRules(results[i])\r\n\tCombinedResults.push(validationResults)\t;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t \t\t\t}\r\n\r\n\t\t\t\t\t\t\t \t\t\tconsole.log(\"finished calling business rules\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\nreturn CombinedResults;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\r\n\r\nmodule.exports = inputStream;"]}
{"version":3,"sources":["businessRules.js"],"names":["Converter","require","fs","dateTimevalidation","txnIdValidation","txnAmountvalidation","businessRules","jsonObj","validationResults","obj","push","module","exports"],"mappings":";;AACA,IAAIA,YAAYC,QAAQ,WAAR,EAAqBD,SAArC;AACA,IAAIE,KAAKD,QAAQ,IAAR,CAAT;AACA,IAAIE,qBAAqBF,QAAQ,kCAAR,CAAzB;AACA,IAAIG,kBAAkBH,QAAQ,+BAAR,CAAtB;AACA,IAAII,sBAAsBJ,QAAQ,mCAAR,CAA1B;;AAEA,SAASK,aAAT,CAAuBC,OAAvB,EACA;;AAEC,KAAIC,oBAAoB,EAAxB;;AAEA,MAAK,IAAIC,GAAT,IAAgBF,OAAhB,EAAyB;;AAEjB,UAAQE,GAAR;AACL,QAAK,MAAL;AACO,QAAI,CAACL,gBAAgBA,eAAhB,CAAgCG,QAAQE,GAAR,CAAhC,CAAL,EACC;;AAEM,SAAIA,MAAM;AACnB,cAAQF,QAAQE,GAAR,CADW;AAEnB,qBAAe;;AAFI,MAAV;AAKbD,uBAAkBE,IAAlB,CAAuBD,GAAvB;AAEK;AACC;AACP,QAAK,UAAL;AACO,QAAIF,QAAQE,GAAR,KAAc,EAAlB,EACC;AACa,SAAIA,MAAM;AAC1B,cAAQF,QAAQE,GAAR,CADkB;AAE1B,qBAAe;;AAFW,MAAV;AAKpBD,uBAAkBE,IAAlB,CAAuBD,GAAvB;AAEK;AACC;AACP,QAAK,WAAL;AAAkB;AACX,QAAI,CAACJ,oBAAoBA,mBAApB,CAAwCE,QAAQE,GAAR,CAAxC,CAAL,EACC;;AAEX,SAAIA,MAAM;AACF,cAAQF,QAAQE,GAAR,CADN;AAEF,qBAAe;;AAFb,MAAV;AAKID,uBAAkBE,IAAlB,CAAuBD,GAAvB;AAGK;AACC;AACP,QAAK,SAAL;;AAGO;AACP,QAAK,UAAL;;AAEC,QAAG,CAACN,mBAAmBA,kBAAnB,CAAsCI,QAAQE,GAAR,CAAtC,CAAJ,EACA;AACC,SAAIA,MAAM;AACP,cAAQF,QAAQE,GAAR,CADD;AAEP,qBAAe;;AAFR,MAAV;AAKDD,uBAAkBE,IAAlB,CAAuBD,GAAvB;AAEC;AACK;AACJ;;AAED,QAAIA,MAAM;AACP,aAAQF,QAAQE,GAAR,CADD;AAEP,oBAAe;;AAFR,KAAV;AAKDD,sBAAkBE,IAAlB,CAAuBD,GAAvB;AACM;AAjEF,GAkEC;AAGR;;AAEF,QAAOD,iBAAP;AAEC;;AAEDG,OAAOC,OAAP,GAAiBN,aAAjB","file":"businessRules.js","sourceRoot":"C:/Users/OfficePC/Desktop/Nodejspractise/appliation","sourcesContent":["\r\nvar Converter = require('csvtojson').Converter;\r\nvar fs = require('fs');\r\nvar dateTimevalidation = require('../appliation/dateTimevalidation');\r\nvar txnIdValidation = require('../appliation/txnIdValidation');\r\nvar txnAmountvalidation = require('../appliation/txnAmountvalidation');\r\n\r\nfunction businessRules(jsonObj)\r\n{\r\n\r\n\tvar validationResults = [];\r\n\r\n\tfor (var obj in jsonObj) {\r\n\r\n\t        switch (obj) {\r\n\t\t\t\tcase 'txid':\r\n\t\t\t        if (!txnIdValidation.txnIdValidation(jsonObj[obj]))\r\n\t\t\t        \t{\r\n\t\t\t\t\t\t\t\t        \t\t\r\n\t\t\t\t\t\t\t\t        \t\tvar obj = {\r\n\t\t\t\t\t    'txid': jsonObj[obj],\r\n\t\t\t\t\t    'description': 'txid is not in number format',\r\n\t\t\t\t\t   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidationResults.push(obj);\r\n\r\n\t\t\t    \t\t}\r\n\t\t\t        break;\r\n\t\t\t\tcase 'clientid':\r\n\t\t\t        if (jsonObj[obj]=='') \r\n\t\t\t        \t{\r\n\t\t\t        \t\t\t\t        \t\tvar obj = {\r\n\t\t\t\t\t    'txid': jsonObj[obj],\r\n\t\t\t\t\t    'description': 'client id cannot be null or empty',\r\n\t\t\t\t\t   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidationResults.push(obj);\r\n\r\n\t\t\t    \t\t}\r\n\t\t\t        break;\r\n\t\t\t\tcase 'txnamount': // assuming amount is number format checking if valus is Not a number\r\n\t\t\t        if (!txnAmountvalidation.txnAmountvalidation(jsonObj[obj])) \r\n\t\t\t        \t{\t\t        \t\r\n\t\t\t        \t\t\r\n\tvar obj = {\r\n\t\t\t\t\t    'txid': jsonObj[obj],\r\n\t\t\t\t\t    'description': 'txnamount is not in expected format',\r\n\t\t\t\t\t   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidationResults.push(obj);\r\n\r\n\r\n\t\t\t    \t\t}\r\n\t\t\t        break;\r\n\t\t\t\tcase 'product':\r\n\t\t\t       \r\n\r\n\t\t\t        break;\r\n\t\t\t\tcase 'datetime':\r\n\r\n\t\t\t\t\tif(!dateTimevalidation.dateTimevalidation(jsonObj[obj]))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t    'txid': jsonObj[obj],\r\n\t\t\t\t\t    'description': 'Date time provided is either in future or not valid',\r\n\t\t\t\t\t   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidationResults.push(obj);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t        break;\t\t\t\t\t\r\n\t\t\t    default:\r\n\t\t\t    \t\r\n\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t    'txid': jsonObj[obj],\r\n\t\t\t\t\t    'description': 'unexpected key and this key is not handled',\r\n\t\t\t\t\t   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidationResults.push(obj);\r\n\t\t\t        break;\r\n\t        };\r\n\r\n\r\n\t}\r\n\r\nreturn validationResults;\r\n\r\n}\r\n\r\nmodule.exports = businessRules;"]}
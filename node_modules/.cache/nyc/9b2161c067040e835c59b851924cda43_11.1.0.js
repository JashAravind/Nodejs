'use strict';var cov_qkig4aomf=function(){var path='C:\\Users\\OfficePC\\Desktop\\NodejsAutomation\\appliation\\textToJson.js',hash='2ba5148e30dfbc9af349cb079633b92cc42768e5',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'C:\\Users\\OfficePC\\Desktop\\NodejsAutomation\\appliation\\textToJson.js',statementMap:{'0':{start:{line:3,column:9},end:{line:3,column:22}},'1':{start:{line:4,column:8},end:{line:4,column:29}},'2':{start:{line:5,column:12},end:{line:5,column:28}},'3':{start:{line:11,column:13},end:{line:11,column:14}},'4':{start:{line:12,column:15},end:{line:12,column:17}},'5':{start:{line:14,column:18},end:{line:30,column:3}},'6':{start:{line:15,column:2},end:{line:15,column:49}},'7':{start:{line:16,column:2},end:{line:29,column:3}},'8':{start:{line:17,column:3},end:{line:26,column:4}},'9':{start:{line:18,column:4},end:{line:18,column:29}},'10':{start:{line:19,column:10},end:{line:26,column:4}},'11':{start:{line:21,column:4},end:{line:21,column:25}},'12':{start:{line:22,column:4},end:{line:22,column:23}},'13':{start:{line:25,column:4},end:{line:25,column:23}},'14':{start:{line:28,column:3},end:{line:28,column:11}},'15':{start:{line:32,column:1},end:{line:34,column:4}},'16':{start:{line:33,column:2},end:{line:33,column:30}},'17':{start:{line:36,column:1},end:{line:36,column:16}},'18':{start:{line:40,column:1},end:{line:40,column:13}},'19':{start:{line:44,column:1},end:{line:44,column:29}},'20':{start:{line:47,column:0},end:{line:47,column:26}}},fnMap:{'0':{name:'readFile',decl:{start:{line:9,column:9},end:{line:9,column:17}},loc:{start:{line:9,column:37},end:{line:37,column:1}},line:9},'1':{name:'(anonymous_1)',decl:{start:{line:14,column:71},end:{line:14,column:72}},loc:{start:{line:14,column:87},end:{line:30,column:2}},line:14},'2':{name:'(anonymous_2)',decl:{start:{line:32,column:22},end:{line:32,column:23}},loc:{start:{line:32,column:34},end:{line:34,column:2}},line:32},'3':{name:'setHeaderRowAsKeys',decl:{start:{line:39,column:9},end:{line:39,column:27}},loc:{start:{line:39,column:34},end:{line:41,column:1}},line:39},'4':{name:'addKeys',decl:{start:{line:43,column:9},end:{line:43,column:16}},loc:{start:{line:43,column:23},end:{line:45,column:1}},line:43}},branchMap:{'0':{loc:{start:{line:16,column:2},end:{line:29,column:3}},type:'if',locations:[{start:{line:16,column:2},end:{line:29,column:3}},{start:{line:16,column:2},end:{line:29,column:3}}],line:16},'1':{loc:{start:{line:17,column:3},end:{line:26,column:4}},type:'if',locations:[{start:{line:17,column:3},end:{line:26,column:4}},{start:{line:17,column:3},end:{line:26,column:4}}],line:17},'2':{loc:{start:{line:17,column:7},end:{line:17,column:30}},type:'binary-expr',locations:[{start:{line:17,column:7},end:{line:17,column:16}},{start:{line:17,column:20},end:{line:17,column:30}}],line:17},'3':{loc:{start:{line:19,column:10},end:{line:26,column:4}},type:'if',locations:[{start:{line:19,column:10},end:{line:26,column:4}},{start:{line:19,column:10},end:{line:26,column:4}}],line:19}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var fs=(cov_qkig4aomf.s[0]++,require('fs'));var _=(cov_qkig4aomf.s[1]++,require('underscore'));var split=(cov_qkig4aomf.s[2]++,require('split'));var keys;function readFile(inPath,useHeader){cov_qkig4aomf.f[0]++;var index=(cov_qkig4aomf.s[3]++,0);var outData=(cov_qkig4aomf.s[4]++,[]);var readStream=(cov_qkig4aomf.s[5]++,fs.createReadStream(inPath).pipe(split()).on('data',function(line){cov_qkig4aomf.f[1]++;cov_qkig4aomf.s[6]++;line=line.toString().match(/[^\r\n\t' ']+/g);cov_qkig4aomf.s[7]++;if(line){cov_qkig4aomf.b[0][0]++;cov_qkig4aomf.s[8]++;if((cov_qkig4aomf.b[2][0]++,useHeader)&&(cov_qkig4aomf.b[2][1]++,index==0)){cov_qkig4aomf.b[1][0]++;cov_qkig4aomf.s[9]++;setHeaderRowAsKeys(line);}else{cov_qkig4aomf.b[1][1]++;cov_qkig4aomf.s[10]++;if(useHeader){cov_qkig4aomf.b[3][0]++;cov_qkig4aomf.s[11]++;// create an object with header row keys
line=addKeys(line);cov_qkig4aomf.s[12]++;outData.push(line);}else{cov_qkig4aomf.b[3][1]++;cov_qkig4aomf.s[13]++;// array, no keys
outData.push(line);}}cov_qkig4aomf.s[14]++;index++;}else{cov_qkig4aomf.b[0][1]++;}}));cov_qkig4aomf.s[15]++;readStream.on('end',function(){cov_qkig4aomf.f[2]++;cov_qkig4aomf.s[16]++;writeFile(outData,yargs.o);});cov_qkig4aomf.s[17]++;return outData;}function setHeaderRowAsKeys(line){cov_qkig4aomf.f[3]++;cov_qkig4aomf.s[18]++;keys=line;}function addKeys(line){cov_qkig4aomf.f[4]++;cov_qkig4aomf.s[19]++;return _.object(keys,line);}cov_qkig4aomf.s[20]++;module.exports=readFile;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRleHRUb0pzb24uanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwiXyIsInNwbGl0Iiwia2V5cyIsInJlYWRGaWxlIiwiaW5QYXRoIiwidXNlSGVhZGVyIiwiaW5kZXgiLCJvdXREYXRhIiwicmVhZFN0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwib24iLCJsaW5lIiwidG9TdHJpbmciLCJtYXRjaCIsInNldEhlYWRlclJvd0FzS2V5cyIsImFkZEtleXMiLCJwdXNoIiwid3JpdGVGaWxlIiwieWFyZ3MiLCJvIiwib2JqZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxLQUFLQyxRQUFRLElBQVIsQ0FBVDtBQUNBLElBQUlDLElBQUlELFFBQVEsWUFBUixDQUFSO0FBQ0EsSUFBSUUsUUFBUUYsUUFBUSxPQUFSLENBQVo7O0FBRUEsSUFBSUcsSUFBSjs7QUFHQSxTQUFTQyxRQUFULENBQWtCQyxNQUFsQixFQUEwQkMsU0FBMUIsRUFBcUM7O0FBRXBDLEtBQUlDLFFBQVEsQ0FBWjtBQUNBLEtBQUlDLFVBQVUsRUFBZDs7QUFFQSxLQUFJQyxhQUFhVixHQUFHVyxnQkFBSCxDQUFvQkwsTUFBcEIsRUFDZk0sSUFEZSxDQUNWVCxPQURVLEVBRWZVLEVBRmUsQ0FFWixNQUZZLEVBRUosVUFBVUMsSUFBVixFQUFnQjtBQUMzQkEsU0FBT0EsS0FBS0MsUUFBTCxHQUFnQkMsS0FBaEIsQ0FBc0IsZ0JBQXRCLENBQVA7QUFDQSxNQUFHRixJQUFILEVBQVE7QUFDUCxPQUFHUCxhQUFhQyxTQUFTLENBQXpCLEVBQTJCO0FBQzFCUyx1QkFBbUJILElBQW5CO0FBQ0EsSUFGRCxNQUdLLElBQUdQLFNBQUgsRUFBYztBQUNsQjtBQUNBTyxXQUFPSSxRQUFRSixJQUFSLENBQVA7QUFDQUwsWUFBUVUsSUFBUixDQUFhTCxJQUFiO0FBQ0EsSUFKSSxNQUtBO0FBQ0o7QUFDQUwsWUFBUVUsSUFBUixDQUFhTCxJQUFiO0FBQ0E7O0FBRUROO0FBQ0E7QUFDRCxFQXBCZSxDQUFqQjs7QUFzQkFFLFlBQVdHLEVBQVgsQ0FBYyxLQUFkLEVBQXFCLFlBQVk7QUFDaENPLFlBQVVYLE9BQVYsRUFBbUJZLE1BQU1DLENBQXpCO0FBQ0EsRUFGRDs7QUFJQSxRQUFPYixPQUFQO0FBQ0E7O0FBR0QsU0FBU1Esa0JBQVQsQ0FBNEJILElBQTVCLEVBQWlDO0FBQ2hDVixRQUFPVSxJQUFQO0FBQ0E7O0FBRUQsU0FBU0ksT0FBVCxDQUFpQkosSUFBakIsRUFBc0I7QUFDckIsUUFBT1osRUFBRXFCLE1BQUYsQ0FBU25CLElBQVQsRUFBZVUsSUFBZixDQUFQO0FBQ0E7O0FBRURVLE9BQU9DLE9BQVAsR0FBaUJwQixRQUFqQiIsImZpbGUiOiJ0ZXh0VG9Kc29uLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL09mZmljZVBDL0Rlc2t0b3AvTm9kZWpzQXV0b21hdGlvbi9hcHBsaWF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcclxudmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcbnZhciBzcGxpdCA9IHJlcXVpcmUoJ3NwbGl0Jyk7XHJcblxyXG52YXIga2V5cztcclxuXHJcblxyXG5mdW5jdGlvbiByZWFkRmlsZShpblBhdGgsIHVzZUhlYWRlcikge1xyXG5cclxuXHR2YXIgaW5kZXggPSAwO1xyXG5cdHZhciBvdXREYXRhID0gW107XHJcblxyXG5cdHZhciByZWFkU3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbShpblBhdGgpXHJcblx0XHQucGlwZShzcGxpdCgpKVxyXG5cdFx0Lm9uKCdkYXRhJywgZnVuY3Rpb24gKGxpbmUpIHtcclxuXHRcdFx0bGluZSA9IGxpbmUudG9TdHJpbmcoKS5tYXRjaCgvW15cXHJcXG5cXHQnICddKy9nKTtcclxuXHRcdFx0aWYobGluZSl7XHJcblx0XHRcdFx0aWYodXNlSGVhZGVyICYmIGluZGV4ID09IDApe1xyXG5cdFx0XHRcdFx0c2V0SGVhZGVyUm93QXNLZXlzKGxpbmUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmKHVzZUhlYWRlcikge1xyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGFuIG9iamVjdCB3aXRoIGhlYWRlciByb3cga2V5c1xyXG5cdFx0XHRcdFx0bGluZSA9IGFkZEtleXMobGluZSk7XHJcblx0XHRcdFx0XHRvdXREYXRhLnB1c2gobGluZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gYXJyYXksIG5vIGtleXNcclxuXHRcdFx0XHRcdG91dERhdGEucHVzaChsaW5lKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGluZGV4Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRyZWFkU3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHR3cml0ZUZpbGUob3V0RGF0YSwgeWFyZ3Mubyk7XHJcblx0fSk7XHJcblx0XHJcblx0cmV0dXJuIG91dERhdGE7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRIZWFkZXJSb3dBc0tleXMobGluZSl7XHJcblx0a2V5cyA9IGxpbmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEtleXMobGluZSl7XHJcblx0cmV0dXJuIF8ub2JqZWN0KGtleXMsIGxpbmUpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWRGaWxlOyJdfQ==